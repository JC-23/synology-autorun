<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
	<title>autorun</title>
	<link rel="stylesheet" type="text/css" href="dsm3.css"/>
    </head>
    <body>
	<div class="h3"/>
		<h3 style="width:75px;">Description</h3>
	</div>
	<p style="margin-left:22px; line-height: 16px;"><b>autorun</b> allows to execute scripts when an external 
	    device (USB + eSATA) is connected to the DiskStation.<br/>
	    To enable it start the package via the "<i>Package Management</i>". Stop the package when you want to
	    attach a device without executing its autorun script.<br/>
	    When a device is connected to the DiskStation and successfully mounted the configured script (located 
	    on the device) will be executed. An exit value of "100" of the script will unmount and eject the 
	    device, all other values will leave it mounted.
	    <br/><br/>
	</p>
	
	<div class="h3"/>
		<h3 style="width:90px;">Configuration</h3>
	</div>
	<form action="index.cgi" method="post">
	    <table border="0" style="margin-left:22px; font-size:12px;">
		<tr>
		    <td>Script to execute:</td>
		    <td width="10"></td>
		    <td><input type="text" name="script" size="25" value="==:SCRIPT:=="/></td>
		    <td width="200px"></td>
		</tr>
		<tr>
		    <td colspan="4"><small>&nbsp;&nbsp;&nbsp;The script must be located in the root 
			directory of the device and set as executable for the user "root".</small></td>
		</tr>
		<tr>
		    <td>Beep at the start and end:</td>
		    <td></td>
		    <td><input type="checkbox" name="beep" ==:BEEP:== /></td>
		    <td></td>
		</tr>
		<tr>
		    <td>Use status LED:</td>
		    <td></td>
		    <td><input type="checkbox" name="led" ==:LED:== /></td>
		    <td></td>
		</tr>
		<tr>
		    <td colspan="4"><small>&nbsp;&nbsp;&nbsp;When enabled the status LED will switch to 
			orange while the script is running. You can safely remove<br/>
			&nbsp;&nbsp;&nbsp;the device when it goes green again (and the script triggered an 
			eject).</small></td>
		</tr>
		<tr>
		    <td></td>
		    <td></td>
		    <td align="right">
			<input type="hidden" name="action" value="save"/>
			<input type="reset" value="  Reset  "/>
			<input type="submit" value="  Save  "/>
		    </td>
		    <td>==:saved:==</td>
		</tr>
	    </table>
	</form>

	<div class="h3"/>
		<h3 style="width:35px;">Tools</h3>
	</div>
	<ul style="line-height: 16px;">
	    <li><a href="index.cgi?action=log">View the log file</a></li>
	    <li><a href="localbackup.cgi">Create an autorun script for the local backup</a></li>
	</ul>
	
	<div class="h3"/>
		<h3 style="width:73px;">Limitations</h3>
	</div>
	<ul style="line-height: 16px;">
	    <li>Multiple executions (two or more devices at the same time) are possible but the status 
		display via the LED will not properly reflect it.</li>
	    <li>There is no error handling for the called scripts.</li>
	    <li>Scripts are executed as root. The path is limited so use absolute paths to the programs.</li>
	    <li>Scripts might also be called during system boot-up when some resources are not be available.</li>
	    <li>Problems while unmounting the device will be signaled with three long beeps. The status LED 
		will be left orange (if enabled) so you have to reset it manually 
		(<a href="index.cgi?action=resetled">click here to reset the LED</a>).</li>
	</ul>

	<div class="h3"/>
		<h3 style="width:98px;">License (BSD)</h3>
	</div>
	<p style="margin-left:22px;"><small>
	    Copyright (c) 2011, Jan Reidemeister<br/>
	    All rights reserved.<br/><br/>
	    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	</small></p>
	<ul><small>
		<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
		<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
		<li>Neither the name of Jan Reidemeister nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
	</small></ul>
	<p style="margin-left:22px;"><small>
	    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<br/><br/>
	    Icons from <a href="http://openiconlibrary.sourceforge.net">Open Icon Library</a> (Nuvola 1.0, LGPL-2.1).
	</small></p>
    </body>
</html>
